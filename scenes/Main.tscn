[gd_scene load_steps=19 format=2]

[ext_resource path="res://scripts/Main.gd" type="Script" id=1]
[ext_resource path="res://models/map/mountain/island/Low Poly Mill.dae" type="PackedScene" id=2]
[ext_resource path="res://scripts/rocket_model.gd" type="Script" id=3]
[ext_resource path="res://models/rockets/basic_rocket/rocket_model.obj" type="ArrayMesh" id=4]
[ext_resource path="res://models/rockets/basic_rocket/metal (8).jpg" type="Texture" id=5]

[sub_resource type="PhysicsMaterial" id=1]

[sub_resource type="BoxShape" id=2]
extents = Vector3( 10.0102, 1, 10.8402 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 36.105, 16.0728, 1.23621 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 1, 0.239216, 0.239216, 1 )
albedo_texture = ExtResource( 5 )

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 1, 0.239216, 0.239216, 1 )
albedo_texture = ExtResource( 5 )

[sub_resource type="SpatialMaterial" id=6]
albedo_color = Color( 0.870588, 0.870588, 0.870588, 1 )

[sub_resource type="SpatialMaterial" id=7]
albedo_color = Color( 0.227451, 0.564706, 1, 1 )
albedo_texture = ExtResource( 5 )

[sub_resource type="SpatialMaterial" id=8]
albedo_color = Color( 1, 0.239216, 0.239216, 1 )
albedo_texture = ExtResource( 5 )

[sub_resource type="SpatialMaterial" id=9]
albedo_color = Color( 0.227451, 0.564706, 1, 1 )
albedo_texture = ExtResource( 5 )

[sub_resource type="BoxShape" id=10]
extents = Vector3( 1, 1.71808, 1 )

[sub_resource type="ProceduralSky" id=13]
sky_top_color = Color( 0.737255, 0.282353, 0.784314, 1 )
sky_horizon_color = Color( 1, 0.745098, 0.286275, 1 )
sky_energy = 2.0
ground_bottom_color = Color( 0.109804, 0.243137, 0.54902, 1 )
ground_horizon_color = Color( 1, 0.501961, 0, 1 )

[sub_resource type="Environment" id=12]
background_mode = 2
background_sky = SubResource( 13 )
background_color = Color( 0.376471, 0.854902, 0.898039, 1 )
dof_blur_far_enabled = true
dof_blur_far_quality = 0
dof_blur_near_quality = 2
glow_intensity = 5.77

[sub_resource type="Animation" id=14]
resource_name = "launch"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Rocket:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 3 ),
"transitions": PoolRealArray( 1, 3.605, 0.108819 ),
"update": 0,
"values": [ Vector3( 0.890323, -0.743116, 8.17991 ), Vector3( 0.890323, -0.743116, 8.17991 ), Vector3( 0.89, 30, 8.18 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Rocket/camera:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.6, 0.8, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( -0.0990066, 1.98753, -4.85589 ), Vector3( -2.20977, 1.98753, -4.97007 ), Vector3( 0.566276, 1.98753, -4.8199 ), Vector3( -3.02345, 1.98753, -5.01409 ), Vector3( 0.0914466, 1.98753, -4.84559 ), Vector3( -0.628495, 1.98753, -4.88454 ) ]
}

[node name="Main" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.42459, 0 )
script = ExtResource( 1 )

[node name="Light" type="MeshInstance" parent="."]

[node name="DirectionalLight" type="DirectionalLight" parent="Light"]
transform = Transform( -0.85789, 0.304932, -0.413572, -0.11084, 0.676104, 0.728421, 0.501737, 0.670745, -0.546224, -7.20237, 3.76516, -3.07267 )
light_energy = 1.69
shadow_enabled = true

[node name="Map" type="StaticBody" parent="."]
transform = Transform( 0.937112, 0, 0.174515, 0, 1, 0, -0.34903, 0, 0.468556, 3.254, -2.688, 18.406 )
physics_material_override = SubResource( 1 )

[node name="floor_shape" type="CollisionShape" parent="Map"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.196599, 1.19414, -18.1575 )
shape = SubResource( 2 )

[node name="wall_shape-z1" type="CollisionShape" parent="Map"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1886, 13.4696, -24.0822 )
shape = SubResource( 3 )

[node name="wall_shape-z2" type="CollisionShape" parent="Map"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.59763, 13.5084, -11.9135 )
shape = SubResource( 3 )

[node name="wall_shape-x1" type="CollisionShape" parent="Map"]
transform = Transform( -0.0184869, 0, 0.999829, 0, 1, 0, -0.999829, 0, -0.0184869, 7.28354, 13.5084, -40.6719 )
shape = SubResource( 3 )

[node name="wall_shape-x2" type="CollisionShape" parent="Map"]
transform = Transform( -0.0184869, 0, 0.999829, 0, 1, 0, -0.999829, 0, -0.0184869, -5.4481, 13.5084, -11.1299 )
shape = SubResource( 3 )

[node name="Low Poly Mill" parent="Map" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0387936, -0.0456753, -18.9535 )

[node name="Rocket" type="KinematicBody" parent="."]
transform = Transform( 0.49927, 0, 0.0270078, 0, 0.5, 0, -0.0270078, 0, 0.49927, 0.890323, -0.743116, 8.17991 )
script = ExtResource( 3 )

[node name="rocket_model" type="MeshInstance" parent="Rocket"]
transform = Transform( 0.00226193, 0, -0.299991, 0, 0.3, 0, 0.299991, 0, 0.00226193, -0.153, 1.504, -0.368 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )
material/1 = SubResource( 5 )
material/2 = SubResource( 6 )
material/3 = SubResource( 7 )
material/4 = SubResource( 8 )
material/5 = SubResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="Rocket"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.42461, -0.521026 )
shape = SubResource( 10 )

[node name="camera" type="Spatial" parent="Rocket"]
transform = Transform( -0.00999937, 0, -0.000112088, 0, 0.01, 0, 0.000112089, 0, -0.00999937, -0.628495, 1.98753, -4.88454 )

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 0.0329135, 0.39148, -0.919598, -0.0211541, 0.920163, 0.390964, 0.999234, 0.00658529, 0.0385672, -11.7022, 4.95752, 4.40183 )
keep_aspect = 0
environment = SubResource( 12 )
current = true
fov = 141.177
near = 0.01
target = NodePath("../Rocket/camera")
speed = 6.0
enabled = true

[node name="LaunchRocket" type="AnimationPlayer" parent="."]
autoplay = "launch"
anims/launch = SubResource( 14 )
